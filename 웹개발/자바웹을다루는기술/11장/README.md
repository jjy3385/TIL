# 11장.JSP정의와 구성요소

## 11.1 JSP의 등장

기존 서블릿으로 개발하는 것의 문제점

* 화면이 복잡해지면 서블릿의 자바 기반으로 화면 기능 구현 시 어려움이 많다
* 디자이너 입장에서 자바 기반의 서블릿에서 작업하는게 힘들다
* 서블릿에 비즈니스 로직과 화면 기능이 같이 있어 유지보수가 어렵다

이러한 문제점을 보완하기 위해 JSP가 등장하였다

### JSP 의 구성 요소

* HTML태그,CSS,JavaScript 코드
* JSP 기본 태그
* JSP 액션 태그
* 개발자가 직접 만들거나 프레임워크에서 제공하는 커스텀 태그

## 11.2 JSP의 3단계 작업과정

JSP 파일 자체를 브라우저로 전달하면 브라우저는 JSP 요소들을 인식하지 못한다

따라서 톰캣 컨테이너에서 JSP 변환과정을 거쳐야 한다

1. 변환 단계 : 컨테이너가 JSP파일을 자바 파일(.java)로 변환
2. 컴파일 단계 : 컨테이너가 변환된 자바 파일(.java)을 클래스 파일(.class)로 컴파일
3. 실행 단계 : 컨테이너가 클래스 파일(.class)을 실행하여 그 결과(HTML,CSS,javascript 코드)를 브라우저로 전송

> 컨테이너에서 별다른 설정을 안했으면 클라이언트에서 최초 요청이 있을 때 해당 .java / .class 파일이 생성됨
>
> 그래서인지 최초 요청은 좀 느린 경향이 있음
>
> >  📌톰캣에서 제공하는 JSP 프리컴파일 기능을 사용하면 됨 
>
> 컨테이너를 종료하면 해당 파일들은 사라짐

## 11.3 JSP페이지 구성요소

* 디렉티브 태그
* 스크립트 요소 : 주석,스크립트릿,표현식,선언식
* 표현 언어
* 내장 객체(내장 변수)
* 액션 태그
* 커스텀 태그

## 11.4 디렉티브 태그

주로 JSP페이지에 전반적인 설정 정보를 지정할 때 쓰는 태그

* 페이지 디렉티브 태그 : JSP 페이지 전반적인 정보 설정
* 인클루드 디렉티브 태그 : 공통으로 사용하는 JSP 페이지를 다른 JSP 페이지에 추가할 때 사용
* 태그라이브 디렉티브 태그 : 개발자나 프레임워크에서 제공하는 태그를 추가할 때 사용

[페이지 디렉티브 태그 예제](https://github.com/jjy3385/javaWeb/blob/main/pro11/WebContent/hello2.jsp)

[인크루드 디렉티브 태그 예제](https://github.com/jjy3385/javaWeb/blob/main/pro11/WebContent/include.jsp)

> 인크루드 디렉티브 태그를 사용한 jsp의 .java 파일을 확인해보면 인클루드한 페이지의 HTML태그등이 합쳐져있는 것을 볼 수 있다
>
> 📌즉, 컨테이너가 JSP파일을 .java파일로 변환할 때 두 페이지를 하나로 합쳐서 변환한다는 것을 알 수 있다



