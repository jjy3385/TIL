# 웹 애플리케이션 이해하기

## 웹 애플리케이션이란?

웹 컨테이너에서 실행되는 JSP,서블릿,자바 클래스들을 사용하여 정적 웹 프로그래밍 방식의 단점을 보완하여 서비스를 제공하는 서버 프로그램

## 웹 애플리케이션의 기본 구조

톰캣 같은 웹 컨테이너에서 실행되는 웹 애플리케이션은 일정한 디렉토리 구조를 갖춰야함

- 웹 애플리케이션 이름 폴더
  - WEB-INF 폴더
    - classes 폴더
    - lib 폴더
    - web.xml 파일

### 각 구성요소의 기능

- 웹 애플리케이션 이름 폴더 : 웹 애플리케이션의 루트 디렉토리

- WEB-INF 폴더 : 웹 애플리케이션에 대한 정보가 저장되는 곳, 외부에서 접근할 수 없다

- classes : 웹 애플리케이션이 수행하는 서블릿과 일반 클래스들이 위치하는 곳

- lib : 웹 애플리케이션에서 사용하는 여러 가지라이브러리 압출 파일(jar)이 저장되는 공간

  DB연동 드라이버나 프레임워크 기능 관련 jar 파일이 저장됨

- web.xml : 배치 지시자, 일종의 환경 설정 파일

## 컨테이너에서 웹 애플리케이션 실행하기

웹 애플리케이션은 단독으로 실행될 수 없고 톰캣과 같은 웹 컨테이너에 담아서 실행시켜야함

### 컨테이너에 웹 애플리케이션 등록하는 방법

1. **%CATALINA_HOME%webApp** 디렉토리에 직접 애플리케이션 저장

   :pushpin: CATALINA_HOME 은 톰캣 루트디렉토리를 말함

2. **server.xml**에 웹 애플리케이션을 등록

   실제 개발단계에서 많이 사용하는 방식

> **:pushpin:컨텍스트**
>
> 톰캣의 server.xml에 등록하는 웹 애플리케이션
>
> 톰캣 입장에서 인식하는 한 개의 웹 애플리케이션임
>
> 컨텍스트명 중복되면 안됨

### <Context> 태그

톰캣은 모든 설정 정보를 XML로 저장

server.xml 의 host태그 안에 context태그를 작성하여 컨택스트로 웹 애플리케이션에 접근할 수 있도록 함

### 톰캣 컨테이너에서 웹 애플리케이션 동작과정 

1. 브라우저에서 컨택스트 이름 요청
2. 요청을 받은 톰캣서버가 동일한 컨택스트 이름이 server.xml에 등록되어 있는 지 확인
3. 등록되어 있으면 해당 컨택스트의 실제 경로(docBase)로 가서 요청한 파일을 클라이언트 웹 브라우저로 전송
4. 브라우저는 전송된 파일을 표시함

## 이클립스에서 웹 애플리케이션 실습하기

이클립스에서 한개의 프로젝트가 바로 웹 애플리케이션이고 프로젝트 이름이 웹 애플리케이션 이름임

수작업으로 server.xml에 등록하던걸 이클립스에선 간단한 클릭 몇번으로 할 수 있음

이클립스의 servers 폴더 하위 server.xml 파일을 확인해보면 웹 애플리케이션을 추가할 때 컨택스트가 추가되는 것을 확인할 수 있음

## 웹 애플리케이션 서비스하기

**배치(Deploy)** : 개발이 완료된 웹 애플리케이션을 실제 사용자들에게 서비스하기 위한 작업

1. 완성된 이클립스 프로젝트를 WAR 파일(압출파일)로 EXPORT하여 **%CATALINA_HOME%webApp** 에 저장
2. 톰캣을 재실행하면 압출파일이 해당 경로에 풀림
3. 







